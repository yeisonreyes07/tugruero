jQuery(document).ready(function(e){e(document).on("click",".select-file",function(a){var t=e(this).attr("data-rule-id"),o=e(this).attr("data-item-id"),n=e(this).closest('form[name^="rules_form_"]').find("input#uploadFile_"+t+"_"+o);e(n).click()}),e(document).on("change",".file-chooser",function(a){var t=e(this).closest('form[name^="rules_form_"]'),o=e(this).val().replace(/C:\\fakepath\\/i,"");e(this).closest("div.upload-items").find("span.uploaded-filename").remove(),e(this).after('<span class="uploaded-filename">'+o+"</span>"),t.block({message:null,overlayCSS:{background:"#fff url("+ywau.loader+") no-repeat center",opacity:.6}}),setTimeout(function(){t.unblock()},1500)}),e(document).on("click",".delete-uploaded-file",function(a){var t=e(this).closest('form[name^="rules_form_"]'),o=t.find('input[name="ywau_product"]').val(),n=t.find('input[name="ywau_order"]').val(),i=t.find('input[name="ywau-order-item"]').val(),l=t.find('input[name="ywau_variation"]').val(),u=t.find('input[name="ywau_scope"]').val(),r=e(this).attr("data-rule-id"),d={action:"delete_uploaded_file",product_id:o,order_id:n,item_id:i,variation_id:l,rule_id:r,scope:u,return_path:window.location.href},s=this;e(this).closest("div.upload-rules");t.block({message:null,overlayCSS:{background:"#fff url("+ywau.loader+") no-repeat center",opacity:.6}}),e.post(ywau.ajax_url,d,function(a){1==a.code?(e("div.upload-rules").replaceWith(a.items.html_to_show),e("a.rules_product_"+o+"_"+l).text(a.button)):-1==a.code&&(e("span.unable-to-delete").remove(),e(s).after('<span class="unable-to-delete">'+ywau.unable_delete+"</span>")),t.unblock()})})});